import{H as M,I as C,g as r,M as h,h as c,o as l,k as a,j as e,t as u,s as d,w as g,F as _,m as p,p as P,q as x}from"./vendor.1d610a41.js";import{a as I,A as n,k as K,v as S,_ as B,l as F,P as b}from"./index.c4ff0b93.js";class j{async getProfile(s){const m=await I.get("api/profiles/"+s);n.profile=m.data,await K.getKeepsByProfileId(s),await S.getVaultsByProfileId(s)}}const E=new j;const A={setup(){const i=M();return C(async()=>{try{await E.getProfile(i.params.id)}catch(s){F.log("Profile..",s),b.toast(s.message,"error")}}),{isMe:r(()=>i.params.id==n.account.id),profile:r(()=>n.profile),myVaults:r(()=>n.myVaults),keeps:r(()=>n.profileKeeps),vaults:r(()=>n.profileVaults),keepCount:r(()=>n.profileKeeps.length),vaultCount:r(()=>n.profileVaults.length),myVaultCount:r(()=>n.myVaults.length),openModal(){h.getOrCreateInstance(document.getElementById("newKeepModal")).toggle()},newVault(){h.getOrCreateInstance(document.getElementById("newVaultModal")).toggle()}}}},y=i=>(P("data-v-451425ff"),i=i(),x(),i),N={class:"profile container-fluid mb-5"},O={class:"row mt-3"},q={class:"col-md-6 d-flex"},D=["src"],H={class:"d-flex flex-column justify-content-center ms-2"},L={class:"m-0"},R={class:"m-0"},z={key:0,class:"m-0"},G={key:1,class:"m-0"},J={class:"container-fluid"},Q={class:"row"},T=y(()=>e("h1",null,"Vaults:",-1)),U={key:0},W={key:1},X={class:"container-fluid"},Y=y(()=>e("h1",null,"Keeps:",-1)),Z={class:"masonry-with-columns"};function $(i,s,m,t,ee,te){const V=c("VaultForm"),f=c("Modal"),v=c("Vault"),k=c("KeepForm"),w=c("Keep");return l(),a(_,null,[e("div",N,[e("div",O,[e("div",q,[e("img",{class:"rounded-circle",src:t.profile.picture,alt:""},null,8,D),e("div",H,[e("h1",L,u(t.profile.name),1),e("h4",R,"Keeps: "+u(t.keepCount),1),t.isMe?(l(),a("h4",G,"Vaults: "+u(t.myVaultCount),1)):(l(),a("h4",z,"Vaults: "+u(t.vaultCount),1))])])])]),e("div",J,[e("div",Q,[T,e("i",{class:"mdi mdi-plus mdi-48px plus",onClick:s[0]||(s[0]=(...o)=>t.newVault&&t.newVault(...o))})]),d(f,{id:"newVaultModal"},{"modal-body":g(()=>[d(V)]),_:1}),t.isMe?(l(),a("div",U,[(l(!0),a(_,null,p(t.myVaults,o=>(l(),a("div",{class:"vaults",key:o.id},[d(v,{vault:o},null,8,["vault"])]))),128))])):(l(),a("div",W,[(l(!0),a(_,null,p(t.vaults,o=>(l(),a("div",{class:"vaults",key:o.id},[d(v,{vault:o},null,8,["vault"])]))),128))]))]),e("div",X,[Y,e("i",{class:"mdi mdi-plus mdi-48px plus",onClick:s[1]||(s[1]=(...o)=>t.openModal&&t.openModal(...o))}),d(f,{id:"newKeepModal"},{"modal-body":g(()=>[d(k)]),_:1}),e("div",Z,[(l(!0),a(_,null,p(t.keeps,o=>(l(),a("div",{key:o.id},[d(w,{keep:o},null,8,["keep"])]))),128))])])],64)}var le=B(A,[["render",$],["__scopeId","data-v-451425ff"]]);export{le as default};
